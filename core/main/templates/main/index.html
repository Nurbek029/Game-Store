{% extends 'base.html' %}
{% load static %}

{% block content %}

  <!-- Main Banner Section -->
  <div class="main-banner">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 align-self-center">
          {% if messages %}
            <div class="messages-container">
              <!-- Loop through messages and display them -->
              {% for message in messages %}
                <div class="alert
                  {% if message.tags == 'error' %} alert-danger
                  {% elif message.tags == 'success' %} alert-success
                  {% elif message.tags == 'warning' %} alert-warning
                  {% else %} alert-info {% endif %} 
                  alert-dismissible fade show" role="alert">
                  
                  <!-- Display message -->
                  <strong>{% if message.tags == 'success' %}Success!{% elif message.tags == 'error' %}Error!{% elif message.tags == 'warning' %}Warning!{% else %}Note{% endif %}:</strong>
                  {{ message }}
                  
                  <!-- Button to close the alert -->
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {% endfor %}
            </div>
          {% endif %}

          <!-- Banner Content -->
          <div class="caption header-text">
            <h6>Welcome to lugx</h6>
            <h2>BEST GAMING SITE EVER!</h2>
            <p>LUGX Gaming is free Bootstrap 5 HTML CSS website template for your gaming websites. You can download and use this layout for commercial purposes. Please tell your friends about TemplateMo.</p>

      <!-- Search Form in the Banner -->
            <div class="search-input">
              <form id="search" action="{% url 'catalog' %}" method="get">
                <input type="text" placeholder="Type Something" id='searchText' name="game_product_search" onkeypress="handle" />
                <button type="submit"><i class="fa fa-search"></i></button>
              </form>
            </div> 
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Trending Games Section -->
  <div class="section trending">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <div class="section-heading">
            <h6>Trending</h6>
            <h2>Trending Games</h2>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="main-button">
            <a href="shop.html">View All</a>
          </div>
        </div>
        {% for game_product in game_products %}
          <div class="col-lg-3 col-md-6">
            <div class="item">
              <div class="thumb">
                <a href="{% url 'game_product_detail' game_product.id %}"><img src="{{ game_product.main_image.url }}" alt=""></a>
                <span class="price">{{ game_product.price }}$</span>
              </div>
              <div class="down-content">
                <span class="category">Action</span>
                <h4>{{ game_product.title }}</h4>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

{% endblock %}
